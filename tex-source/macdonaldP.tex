
\metatitle{Macdonald P polynomials}
\metadescription{Macdonald P polynomials and related symmetric functions.}


\section[macdonaldP]{Macdonald P polynomials}

\begin{polydata}{macdonaldP}
  Name   & Macdonald P polynomials \\
  Space    & Sym \\
  Basis    & True \\
  Rating   & 4 \\
  Bib      & Macdonald1987 \\
  Year     & 1987 \\
  Symbol   & $\macdonaldP_\lambda(\xvec;q,t) $ \\
  Category & Schur \\
\end{polydata}


\todo{https://www.mat.univie.ac.at/~slc/opapers/s20macdonald.pdf}


\todo{Nice thesis https://arxiv.org/pdf/0907.3950.pdf }

Macdonald polynomials, $\{\macdonaldP_\lambda(\xvec;q,t) \}_{\lambda}$ 
were introduced by I.G. Macdonald in \cite{Macdonald1987}. It is a two-parameter extension of the Schur functions,
and unify the \hyperref[jackP]{Jack polynomials} and \hyperref[hallLittlewoodP]{Hall-Littlewood polynomials}.

R. Langer's master thesis \cite{Langer2009} from 2009 gives a nice overview.
Colmenarejo--Ram suggests the term \defin{bosonic Macdonald polynomials}
while the \hyperref[macdonaldE]{non-symmetric Macdonald polynomials} 
are called \defin{electronic Macdonald polynomials}, see \cite{ColmenarejoRam2022x}.




\subsection[macdonaldPUniqueDefinition]{Inner product characterization}

Let $\langle \cdot , \cdot \rangle_{q,t}$ denote the inner product on symmetric functions such that
\[
\langle \powerSum_\lambda , \powerSum_\mu \rangle_{q,t} = 
z_\lambda \delta_{\lambda\mu} \prod_{i=1}^{\length(\lambda)} \frac{1-q^{\lambda_i}}{1-t^{\lambda_i}} .
\]
Note that at $q=t=0$, we recover the standard Hall inner product.

The \defin{Macdonald polynomials} $\macdonaldP_\lambda(\xvec;q,t)$ are defined as the unique family of polynomials 
such that
\begin{equation*}
\macdonaldP_\lambda(\xvec;q,t) = \monomial_\lambda(\xvec) + \sum_{\mu \prec \lambda} \eta_{\lambda\mu} \monomial_\mu(\xvec)
\end{equation*}
and $\langle \macdonaldP_\lambda, \macdonaldP_\mu \rangle_{q,r}=0$ whenever $\lambda \neq \mu$.
Here, $\prec$ denotes the dominance order on partitions.

\begin{example*}[Macdonald polynomials for $\lambda \vdash 3$]
We have the following Macdonald polynomials:
\begin{align*}
\macdonaldP_{111}(\xvec;q,t) &= \monomial_{111} \\
\macdonaldP_{21}(\xvec;q,t) &= \monomial_{21} +  \frac{(t-1) (2 q t+q+t+2)}{q t^2-1} \monomial_{111} \\
\macdonaldP_{3}(\xvec;q,t) &= \monomial_{3} + \frac{\left(q^2+q+1\right)(t-1)}{q^2 t-1} \monomial_{21} \\
                           &\phantom{=}+ \frac{(q+1) \left(q^2+q+1\right) (t-1)^2}{(q t-1)
\left(q^2 t-1\right)} \monomial_{111}
\end{align*}
\end{example*}

Note that this characterization is quite useless for actually computing Macdonald polynomials,
it is really inefficient. The \hyperref[macdonaldPTableauFormula]{tableau formula} below is much faster.

\subsection[macdonaldPEigenvectors]{Eigenvector characterization}

The Macdonald polynomials can also be characterized as eigenvectors 
to a certain operator $D$, see \cite{Macdonald1987}.
The operator $D$ is given as
\[
D = \sum_{i=1}^n \prod_{j \neq i} \left( \frac{tx_i-x_j}{x_i-x_j} \right) T_{q,x_i}
\]
where $T_{q,x_i} f(x_1,\dotsc,x_n) = f(x_1,\dotsc,x_{i-1},qx_i,x_{i+1},\dotsc,x_n)$.

There is also a way to produce Macdonald polynomials via determinants,
see \cite{LapointeLascouxMorse1998}.



\subsection[macdonaldPTableauFormula]{Tableau formula}

There is a quite cumbersome way to express Macdonald polynomials
as a sum over tableaux, see \cite{Macdonald1987} and \cite{Macdonald1995}.
We first need to introduce some notation.
Given $\lambda/\mu$, let $R_{\lambda/\mu}$ and $C_{\lambda/\mu}$ be the set of rows (columns, resp.) 
containing some box of $\lambda/\mu$. 

For $\lambda/\mu$ being a \emph{horizontal strip} (no two boxes in the same column),
we define $\psi_{\lambda/\mu}(q,t)$ as the following product.
Set
\[
\psi_{\lambda/\mu}(q,t) \coloneqq \prod_{\substack{ s \in R_{\lambda/\mu} \setminus C_{\lambda/\mu} }}
\frac{b_{\mu}(s;q,t)}{b_{\lambda}(s;q,t)}
\]
where 
\[
b_{\mu}(s;q,t) \coloneqq 
\begin{cases}
\frac{ 1-q^{\arm_\mu(s)}t^{1+\leg_\mu(s)}  }{ 1-q^{1+\arm_\mu(s)}t^{\leg_\mu(s)} } &\text{if $s\in \mu$} \\
1 &\text{otherwise}.
\end{cases}
\]

\begin{example*}[Computation of $\psi_{\lambda/\mu}(q,t)$]
Let $\lambda=(8,5,5,1)$ and $\mu=(6,5,2)$.
One can fairly easy see that it suffices to 
take the product over only the 
set of boxes both in $\mu$ and in $R_{\lambda/\mu} \setminus C_{\lambda/\mu}$.
Here there are three such boxes, $(1,2)$, $(1,6)$ and $(3,2)$, marked in the figure.
\begin{figure}
\begin{ytableau}
*(lightblue) & \ast & *(lightblue) & *(lightblue) & *(lightblue) & \ast & *(gray) & *(gray)\\
*(lightblue) & *(lightblue) & *(lightblue) & *(lightblue) & *(lightblue) \\
*(lightblue) & \ast &  *(gray) & *(gray)& *(gray) \\
*(gray)
\end{ytableau}
\end{figure}
We then have
\[
b_{\mu}((1,2);q,t) = \frac{1-q^{4}t^{1+2}}{1-q^{1+4}t^{2}} \qquad
b_{\lambda}((1,2);q,t) = \frac{1-q^{6}t^{1+2}}{1-q^{1+6}t^{2}}.
\]
\[
b_{\mu}((1,6);q,t) = \frac{1-q^{0}t^{1+0}}{1-q^{1+0}t^{0}} \qquad
b_{\lambda}((1,6);q,t) = \frac{1-q^{2}t^{1+0}}{1-q^{1+2}t^{0}}.
\]
\[
b_{\mu}((3,2);q,t) = \frac{1-q^{0}t^{1+0}}{1-q^{1+0}t^{0}} \qquad
b_{\lambda}((3,2);q,t) = \frac{1-q^{3}t^{1+0}}{1-q^{1+3}t^{0}}.
\]
In total, $\psi_{\lambda/\mu}(q,t)$ is given by
\[
\frac{(1-q^{4}t^{3})}{(1-q^{5}t^{2})} 
\frac{(1-q^{7}t^{2})}{(1-q^{6}t^{3})}
\frac{(1-t)}{(1-q)}
\frac{(1-q^{3})}{(1-q^{2}t)}
\frac{(1-t)}{(1-q)}
\frac{(1-q^{4})}{(1-q^{3}t)}.
\]
\end{example*}

Now, if $T$ is a \hyperref[prelimTableaux]{semi-standard Young tableau},
we let 
\[
\psi_{T}(q,t) \coloneqq \prod_{j=1}^n \psi_{\lambda^{j}/\lambda^{j-1}}(q,t)
\]
where $\lambda^{j}/\lambda^{j-1}$ is the horizontal strip determined 
by the entries with value $j$ in $T$.

Finally, we have that for $\mu \vdash n$
\[
\macdonaldP_{\mu}(\xvec;q,t) = \sum_{\nu \vdash n} \monomial_\nu(\xvec) 
\sum_{T \in \SSYT(\mu,\nu)}  \psi_{T}(q,t).
\]

Note that if $q=t$, this formula does indeed give the Schur polynomial $\schurS_\mu(\xvec)$.


\subsection[macdonaldPFromE]{From non-symmetric Macdonald $E$ polynomials}


In \cite[Prop. 5.3.1]{HaglundHaimanLoehr2008}, the following expansion is obtained:
\begin{equation*}
\macdonaldP_\lambda(\xvec;q,t) = \prod_{u \in \lambda} \left(1- q^{1+\leg(u)}t^{\arm(u)}\right) 
\sum_{\gamma \sim \lambda} \frac{ \macdonaldE_{\gamma}(x_1,\dotsc,x_n;q^{-1},t^{-1})}{
\prod_{v \in \gamma} \left(1- q^{1+\leg(v)}t^{\arm(v)}\right)
}.
\end{equation*}
The polynomial $\macdonaldE_{\gamma}(\xvec;q,t)$
is a \hyperref[macdonaldE]{non-symmetric Macdonald polynomial}.

We can express this formula using 
\hyperref[macdonaldEperm]{permuted-basement Macdonald polynomials} also,
\begin{equation*}
\macdonaldP_\lambda(\xvec;q,t) = \prod_{u \in \lambda} \left(1- q^{1+\leg(u)}t^{\arm(u)}\right) 
\sum_{\gamma \sim \lambda} \frac{ \macdonaldE^{id}_{\gamma}(x_1,\dotsc,x_n;q,t)}{
\prod_{v \in \gamma} \left(1- q^{1+\leg(v)}t^{\arm(v)}\right)
},
\end{equation*}
since we have the relation 
$\macdonaldE^{id}_{\gamma}(x_1,\dotsc,x_n;q,t) = \macdonaldE_{\gamma}(x_n,\dotsc,x_1;q^{-1},t^{-1})$.

Another similar expression (\cite{ColmenarejoRam2022x}) is 
\begin{equation*}
\macdonaldP_\lambda(\xvec;q,t) = \frac{1}{W_\lambda(t)}
\sum_{w \in \symS_n} w \left( \macdonaldE_{\gamma}(\xvec;q,t)
\prod_{i \lt j} \frac{x_i - t x_j}{x_i - x_j}
\right),
\end{equation*}
where $W_\lambda(t)$ is a normalization constant, so that $[x^{\lambda}] \macdonaldP_\lambda =1$.
Compare this with the formula for Hall--Littlewood polynomials (obtained as $q\to 0$).

In fact, an analog of this formula exists for any fixed basement,
see \cite[Thm. 29]{Alexandersson2015gbMacdonald}.

\subsection[macdonaldPProperties]{Specializations}

The Macdonald polynomials specialize to other families of symmetric functions,
the \hyperref[schurS]{Schur}, \hyperref[hallLittlewoodP]{Hall--Littlewood} and \hyperref[jackP]{Jack} polynomials:
\begin{equation*}
\schurS_\lambda(\xvec) = \macdonaldP_\lambda(\xvec;q,q), \qquad 
\hallLittlewoodP_\lambda(\xvec;t) = \macdonaldP_\lambda(\xvec;0,t) \qquad
\jackP_\lambda(\xvec;a) = \lim_{t \to 1} \macdonaldP_\lambda(\xvec;t^a,t)
\end{equation*}


\section[macdonaldJ]{Macdonald J polynomials}

\begin{polydata}{macdonaldJ}
  Name     & Macdonald J polynomials \\
  Space    & Sym \\
  Basis    & True \\
  Rating   & 4 \\
  Bib      & Macdonald1987 \\
  Year     & 1987 \\
  Symbol   & $\macdonaldP_\lambda(\xvec;q,t) $ \\
  Category & Schur \\
\end{polydata}


By rescaling, the integral form Macdonald polynomials are defined via
\begin{equation*}
\macdonaldJ_\lambda(\xvec;q,t) = \left( \prod_{\square \in \lambda} 1-q^{\arm(\square)}t^{1+\leg(\square)} \right)  \macdonaldP_\lambda(\xvec;q,t).
\end{equation*}

Similarly, the integral-form Jack polynomials are obtained as a limit:
\[
\jackJ_\lambda(\xvec;a) = \lim_{t \to 1} \frac{\macdonaldJ_\lambda(\xvec;t^a,t)}{(1-t)^{|\lambda|}}
\]

The \hyperref[macdonaldH]{modified Macdonald polynomials} 
(also known as transformed Macdonald polynomials) are obtained by letting
\begin{equation*}
\macdonaldH_\lambda(\xvec;q,t) := t^{n(\lambda)}H_\lambda(\xvec;q,1/t),\qquad \text{ where } \qquad  H_\lambda(\xvec;q,t) = \macdonaldJ_\lambda[\xvec/(1-t);q,t],
\end{equation*}
and we use \hyperref[plethysm]{plethystic notation} in the last expression.



\subsection[macdonaldJqtKostka]{$qt$-Koskta polynomials}

Macdonald \cite[p.354]{Macdonald1987} introduces the \defin{$qt$-Kostka polynomials} $K_{\lambda\mu}(q,t)$
via the relation
\[
\macdonaldJ_\mu(\xvec;q,t) = \sum_{\lambda} K_{\lambda\mu}(q,t) \schurS_\lambda[\xvec(1-t)]
\]
where
\[
\schurS_\lambda[\xvec(1-t)] = \sum_{\rho} \frac{\chi_\rho^\lambda}{z_\rho} \powerSum_\rho(x) 
\prod_{i=1}^{\length(\rho)} (1-t^{\rho_i}).
\]
In \cite{Macdonald1987}, it is conjectured that the $K_{\lambda\mu}(q,t)$
are polynomials in $\setN[q,t]$. 
This was later confirmed by M. Haiman \cite{Haiman2001}, as this property follows 
from \hyperref[macdonaldHSchurPositivity]{the Schur positivity of the modified Macdonald polynomials},
and the corresponding modified $qt$-Kostka polynomials.

It is still an open problem to find a combinatorial interpretation of $K_{\lambda\mu}(q,t)$.



\subsection[macdonaldJHaglundsConjecture]{Haglund's conjecture}

In \cite{Haglund2010}, \name[Jim Haglund]{Jim Haglund} conjectures that 
\[
\left\langle  \frac{\macdonaldJ_\lambda(\xvec;q,q^k)}{(1-q)^{|\lambda|}} , \schurS_\mu(\xvec)  \right\rangle \in \setN[q]
\]
for any $k \in 0,1,2,\dotsc$. 
In \cite{HaglundHaimanLoehr2005}, it is proved that the expression $\frac{\macdonaldJ_\lambda(\xvec;q,q^k)}{(1-q)^{|\lambda|}}$
when expanded in the $\monomial_\mu$-basis has coefficients in $\setN[q]$.
Haglunds conjecture states that the expression is actually Schur positive.

\name{Arun Ram} suggests that Haglund's conjecture can be made stronger: there is some type of positivity when $\macdonaldJ_\lambda(\xvec;q,q^k)$
is expanded in the $\macdonaldJ_\lambda(\xvec;q,q^{k-1})$-basis. Note that $\macdonaldJ_\lambda(\xvec;q,q)=\schurS_\lambda$.

Haglund's conjecture has been shown to be true in some special cases, see \cite{Yoo2012,Yoo2015,Bhattacharya2022x}.



\todo{Intro gives Macdonald polys in other types: https://arxiv.org/pdf/math/0503149.pdf}


\section[macdonaldJQuasi]{Quasisymmetric Macdonald J polynomials}

\begin{polydata}{macdonaldJQuasi}
  Name     & Quasisymmetric Macdonald J polynomials \\
  Space    & QSym \\
  Basis    & True \\
  Rating   & 1 \\
  Bib      & CorteelMandelshtamMasonWilliams2022 \\
  Year     & 2022 \\
  Symbol   & $G_{\alpha}(\xvec;q,t)$ \\
  Category & Schur \\
\end{polydata}

A \hyperref[quasiSymmetricFunctions]{quasisymmetric} refinement of $\macdonaldJ_\lambda(\xvec;q,t)$
is introduced in \cite{CorteelMandelshtamMasonWilliams2022}.
The \defin{quasisymmetric Macdonald polynomials} $G_{\alpha}(\xvec;q,t)$,
as a sum over certain non-symmetric Macdonald polynomials,
such that the following properties hold:
\begin{itemize}
\item $\macdonaldJ_\lambda(\xvec;q,t)$ is a positive sum of $G_{\alpha}(\xvec;q,t)$.
\item $G_{\alpha}(\xvec;q,t)$ is quasisymmetric.
\item $G_{\alpha}(\xvec;0,0)$ is a quasisymmetric Schur function.
\item The $G_{\alpha}(\xvec;q,t)$ have a combinatorial HHL-type formula.
\end{itemize}



\section[macdonaldPMulti]{Multi-Macdonald P polynomials}

\begin{polydata}{macdonaldPMulti}
  Name     & Multi-Macdonald P polynomials \\
  Space    & Other \\
  Basis    & True \\
  Rating   & 1 \\
  Bib      & GonzalesLapointe2019 \\
  Year     & 2019 \\
  Symbol   & $\macdonaldP_{\lambdavec}(\xvec;q,t) $ \\
  Category & Schur \\
\end{polydata}

In \cite{GonzalesLapointe2019}, \name{C. Gonz√°lez} and \name{L. Lapointe} introduce the multi-Macdonald polynomials,
which are indexed by $r$-tuples of partitions.
They are defined via triangularity relations, similar to the definition of \hyperref[macdonaldP]{Macdonald P polynomials}.
When $r=1$, the usual Macdonald-P polynomials are recovered, and when $r=2$, the family coincide with the double Macdonald polynomials,
previously defined in \cite{BlondeauFournierLapointeMathieu2014}.

The multi-Macdonald polynomials can be expressed as a product of Macdonald-P polynomials,
with suitable plethystic substitutions in each factor.

There is an analog of the modified Macdonald polynomials, and then an analog of the $qt$-Kostka 
polynomials when expanded in the \hyperref[schurWreath]{Wreath product Schur polynomials}.
The authors show that the multi-$qt$-Kostka polynomials are in $\setN[q,t]$.



\section[macdonaldPWreath]{Wreath Macdonald P polynomials}

\begin{polydata}{macdonaldPWreath}
  Name     & Wreath Macdonald P polynomials \\
  Space    & Other \\
  Basis    & True \\
  Rating   & 1 \\
  Bib      & Haiman2002hilbertSchemes \\
  Year     & 2002 \\
  Symbol   & $\macdonaldP_{\lambdavec^\bullet}(\xvec;q,t)$ \\
  Category & Schur \\
\end{polydata}

The wreath Macdonald P polynomials, $\macdonaldP_{\lambdavec^\bullet}(\xvec;q,t)$,
were conjectured to exist in \name[Mark Haiman]{M. Haiman's} seminal article \cite[7.2.19]{Haiman2002hilbertSchemes}.
This conjecture was later proved in \cite{BezrukavnikovFinkelbergVologodsky2014}.
See \cite{OrrShimozono2023x} for a survey on wreath Macdonald P polynomials.

