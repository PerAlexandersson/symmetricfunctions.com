<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}arXiv Combinatorics Browser{% endblock %}</title>
    <meta name="author" content="Per Alexandersson" />
    <meta name="description" content="Browse arXiv papers in combinatorics (math.CO category)" />

    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}?v=2">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;700&display=swap" rel="stylesheet">

    <!-- KaTeX -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.css">
    <style>.katex{font-size: 1.1em}</style>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/katex.min.js"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.25/dist/contrib/auto-render.min.js"></script>
    <script>
        {% raw %}
        // KaTeX macros matching symmetricfunctions.com
        window.KATEX_MACROS = {
            "\\spaceSym": "{\\Lambda}",
            "\\schurS": "{\\mathrm{s}}",
            "\\powerSum": "{\\mathrm{p}}",
            "\\elementaryE": "{\\mathrm{e}}",
            "\\completeH": "{\\mathrm{h}}",
            "\\monomial": "{\\mathrm{m}}",
            "\\setN": "{\\mathbb{N}}",
            "\\setZ": "{\\mathbb{Z}}",
            "\\setQ": "{\\mathbb{Q}}",
            "\\setR": "{\\mathbb{R}}",
            "\\setC": "{\\mathbb{C}}"
        };

        document.addEventListener("DOMContentLoaded", function() {
            if (window.renderMathInElement) {
                renderMathInElement(document.body, {
                    delimiters: [
                        {left: "$$", right: "$$", display: true},
                        {left: "$", right: "$", display: false},
                        {left: "\\[", right: "\\]", display: true},
                        {left: "\\(", right: "\\)", display: false}
                    ],
                    macros: window.KATEX_MACROS,
                    throwOnError: false
                });
            }
        });
        {% endraw %}
    </script>

    <!-- Utility functions -->
    <script src="{{ url_for('static', filename='utils.js') }}"></script>

    {% block extra_css %}{% endblock %}
</head>
<body>
    <header>
        <div class="container">
            <h1 class="site-title">
                <a href="/">arXiv Combinatorics Browser</a>
            </h1>
            <p class="site-subtitle">
                Browse math.CO papers from arXiv ·
                <a href="/browse" style="color: var(--c-link); text-decoration: none; border-bottom: 1px dotted var(--c-link);">Browse by date</a> ·
                <a href="/tools" style="color: var(--c-link); text-decoration: none; border-bottom: 1px dotted var(--c-link);">Tools</a>
            </p>

            <form action="/search" method="get" class="search-form">
                <input type="text" name="q" placeholder="Search by title, author, or abstract..." value="{{ request.args.get('q', '') }}">
                <button type="submit">Search</button>
            </form>
        </div>
    </header>

    <div class="container">
        <main>
            {% block content %}{% endblock %}
        </main>
    </div>

    <footer>
        <div class="container">
            <p>
                Maintained by <a href="https://alexandersson.symmetricfunctions.com">Per Alexandersson</a>,
                <a href="mailto:per@symmetricfunctions.com">per@symmetricfunctions.com</a>
            </p>
        </div>
    </footer>

    <!-- All JavaScript utilities moved to static/utils.js -->

    {% block extra_js %}{% endblock %}
</body>
</html>
