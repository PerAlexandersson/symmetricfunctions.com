/* ===============================
   1) Vars & light/dark harmony
   =============================== */
:root {
  /* Reuse site tokens if present */
  --ink: var(--main-font-color, #1d1d1f);
  --ink-subtle: #333;
  --muted: #777;
  --border: #d7d7d7;

  --math-accent: var(--cite-link-color, rgb(37,134,221));
  --math-accent-2: var(--cite-link-color-ligher, rgb(57,154,251));
  --math-env-bar: var(--env-left-side-border-color, rgb(200,200,200));

  /* widths */
  --equation-max-inline: 100%;
  --equation-max-display: 100%;
}

@media (prefers-color-scheme: dark) {
  :root {
    --ink: #e7e7ea;
    --ink-subtle: #c8c8cc;
    --muted: #a3a3a7;
    --border: #2a2e37;
    --math-accent: #7aa2ff;
    --math-accent-2: #a9c1ff;
    --math-env-bar: #3b4252;
  }
}


/* Optional: faint rule to separate very long displays on mobile */
@media (max-width: 640px) {
  mjx-container.MathJax_Display {
    border-top: 1px solid rgba(0,0,0,.04);
    border-bottom: 1px solid rgba(0,0,0,.04);
  }
}

/* ===============================
   3) Links used in math pages
   =============================== */
.url,
.dataFile {
  text-decoration: underline;
  color: var(--url-color, #555);
}

/* Use FA external-link/download if FA is loaded; otherwise degrade gracefully */
/*.url::after,
.dataFile::after {
  font-family: "Font Awesome 5 Free";
  font-weight: 900;
  opacity: 0.7;
  margin-left: .25em;
}


/* external link icon (Font Awesome) */
a[href^="http"]:not([href^="mailto:"]):not([href^="tel:"]):not([href^="#"])::after {
  font-family: "Font Awesome 5 Free";
  font-size: 80%;
  font-weight: 900;
  content: "\f35d";              /* external-link-alt */
  margin-left: .25em;
}

/* downloads (by extension) */
a[href$=".pdf" i],
a[href$=".zip" i] {
  position: relative; /* if you want to position the icon differently */
}
a[href$=".pdf" i]::after,
a[href$=".zip" i]::after {
  font-family: "Font Awesome 5 Free";
  font-size: 80%;
  font-weight: 900;
  content: "\f56d";              /* file-download */
  opacity: 1;
  margin-left: .25em;
}


.vskip.small { margin: 0.4rem 0; }
.vskip.med   { margin: 0.8rem 0; }
.vskip.big   { margin: 1.2rem 0; }

/* OEIS style */
.oeis {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;
  color: var(--oeis-link-color, rgb(30,100,200));
  text-decoration: underline;
  font-weight: 700;
}

.citeSpan a {
  text-decoration: none;
  color: var(--cite-link-color);
  font-size: 95%;
}

/* ===============================
   4) Blockquotes & emphasis
   =============================== */
blockquote {
  font-style: italic;
  font-size: 100%;
  color: var(--ink-subtle);
  quotes: "“" "”" "‘" "’";
  position: relative;
  padding-left: .8em;
  border-left: 3px solid var(--border);
}


/* dfn/definition accent */
dfn, .defin {
  color: var(--defin-color, var(--brand-orange, #e17841));
  font-style: normal;
  font-weight: 600;
}

/* ===============================
   5) Theorem-like environments
   =============================== */
div.env, details.env {
    width: 100%;
	margin-top: 1em;
	margin-bottom: 2em;
	margin-left:  -1.6em;
	margin-right: 0em;
	border-width: 0px 0px 0px 0.6em;
	border-style: solid;
	border-color: var(--math-env-bar);
	padding: 0em 0em 0em 1em;
}

.proof strong {font-weight: 400; font-style: italic;}
.solution strong {font-weight: 400; font-style: italic;}


/* Remove the default triangle/marker for details tag */
details.env > summary {
  list-style: none;
  cursor: pointer;
}
details.env > summary::marker {  /* Firefox */
  content: "";
}
details.env > summary::-webkit-details-marker {  /* Chrome/Safari */
  display: none;
}

details.env > summary strong:focus-visible { outline: 2px solid var(--math-accent); outline-offset: 2px; }
details.env > summary strong { color: var(--collapsible-header-color, var(--math-accent)); }

details.env > summary strong::after {
  content: "\f138";                 /* FA angle-right */
  font-family: "Font Awesome 5 Free";
  font-weight: 900;
  font-style: normal;
  float: right;
  padding-right: .5em;
  display: inline-block;
  color: var(--collapsible-header-color, var(--math-accent));
}
details.env[open] > summary strong::after {
  content: "\f13a";
}

/* ===============================
   6) Citation list layout (grid)
   =============================== */

#bibliography ol {
  list-style: none;   /* hide 1., 2., … since you show [Key] */
  margin: 0;
  padding: 0;
}

#bibliography li {
  position: relative;
  margin: .25em 0 .75em;
  padding-left: 6.5em;   /* room for the [Key] block on the left */
  line-height: 1.35;
}


/* The short label like [Ale14] */
#bibliography li > .citeKey {
  position: absolute;
  left: 0;
  top: 0;
  width: 6em;
  text-align: left;
  margin-right: .5em;
}
#bibliography li > .citeJournal,
#bibliography li > .citeBooktitle { font-style: italic; }
#bibliography li > .citeVolume { font-weight: 700; }

#bibliography li > .citeLinkTitle {
  color: #333;
  font-weight: 400;
  text-decoration: underline;
}

/* Highlight target when jumping from [cite] */
@keyframes citeFade {
  0% { background-color: rgba(255,255,0,1); }
  100% { background-color: rgba(255,255,0,0); }
}
#bibliography li:target { animation: citeFade 4.5s ease; }





/* ===============================
   7) Tables & ytableau
   =============================== */
figure, .ytabs {
  padding: .1em 0;
  text-align: center;
  overflow: auto;  /* allow scroll if many tableaux */
}

table.ytab {
  display: inline-block;
  vertical-align: top;
  border-collapse: collapse;
  margin: .1em;
  table-layout: fixed;
}
table.ytab td {
  border: .2em solid currentColor;
  width: 1.4em;
  aspect-ratio: 1 / 1;
  text-align: center;
  margin: 0;
  font-size: 70%;
  font-weight: 600;
  line-height: 1;
  background: inherit;
}
table.ytab td.none {
  border: none;
  background: transparent;
}

table.array, table.tabular {
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  overflow-x: auto;
  white-space: nowrap;
  max-width: 100%;
}
table.array td, table.tabular td {
  text-align: left;
  font-size: 90%;
  padding: 0 .9em;
}
tr.bottomrule td, tr.toprule td { border-bottom: 2px solid currentColor; }
tr.midrule td { border-bottom: 1px solid currentColor; }

.entryAlign-r { text-align: right !important; }
.entryAlign-l { text-align: left  !important; }
.entryAlign-c { text-align: center!important; }
.entryAlign-d { text-align: left  !important; }

/* ===============================
   8) Lists for LaTeX-like itemize
   =============================== */
ul.itemize li {
  padding-left: .1em;
  margin-left: -.5em;
  list-style-type: circle;
}

/* ===============================
   9) Print tweaks for math
   =============================== */
@media print {
  mjx-container { overflow: visible !important; padding: 0; }
  .url::after, .dataFile::after { content: ""; } /* remove icons in print */
}
